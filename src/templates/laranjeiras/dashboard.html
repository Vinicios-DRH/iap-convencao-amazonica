{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block head %}
{{ super() }}
<style>
    .header-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.8rem;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .header-title {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--brand-blue-dark);
    }

    .btn-brand {
        background: var(--brand-blue-dark);
        border: none;
        padding: .55rem 1.4rem;
        border-radius: 10px;
        font-weight: 600;
        color: #fff !important;
        white-space: nowrap;
    }

    .btn-brand:hover {
        background: var(--brand-blue);
        color: #fff;
    }

    .card-kpi {
        background: #ffffff;
        border-radius: 16px;
        padding: 1.4rem 1.3rem;
        box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
        height: 100%;
        transition: transform .15s ease, box-shadow .15s ease;
    }

    .card-kpi:hover {
        transform: translateY(-3px);
        box-shadow: 0 14px 35px rgba(15, 23, 42, 0.2);
    }

    .kpi-title {
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        color: var(--brand-blue-dark);
        opacity: 0.8;
        letter-spacing: .10em;
    }

    .kpi-number {
        font-size: 2.1rem;
        font-weight: 700;
        color: var(--brand-blue-dark);
        margin-top: .2rem;
    }

    .kpi-sub {
        font-size: 0.8rem;
        color: #6b7280;
        margin-top: .3rem;
    }
</style>
{% endblock %}

{% block body %}

<div class="header-row">
    <div class="header-title">Dashboard</div>

    <a class="btn-brand" href="{{ url_for('novo_passe') }}">
        + Nova ficha
    </a>
</div>

<div class="row g-4 mb-4">

    <div class="col-12 col-md-6 col-xl-3">
        <div class="card-kpi">
            <div class="kpi-title">Total de fichas</div>
            <div class="kpi-number">{{ total_fichas }}</div>
            <div class="kpi-sub">Desde o início dos registros</div>
        </div>
    </div>

    <div class="col-12 col-md-6 col-xl-3">
        <div class="card-kpi">
            <div class="kpi-title">Hoje</div>
            <div class="kpi-number">{{ fichas_hoje }}</div>
            <div class="kpi-sub">Fichas cadastradas hoje</div>
        </div>
    </div>

    <div class="col-12 col-md-6 col-xl-3">
        <div class="card-kpi">
            <div class="kpi-title">Últimos 7 dias</div>
            <div class="kpi-number">{{ fichas_semana }}</div>
            <div class="kpi-sub">Inclui hoje</div>
        </div>
    </div>

    <div class="col-12 col-md-6 col-xl-3">
        <div class="card-kpi">
            <div class="kpi-title">Este mês</div>
            <div class="kpi-number">{{ fichas_mes }}</div>
            <div class="kpi-sub">Fichas do mês atual</div>
        </div>
    </div>

</div>

{% endblock %}